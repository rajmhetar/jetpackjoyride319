<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MSPM0_ValvanoWare: I2C</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="LaunchPad.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MSPM0_ValvanoWare
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">ECE319K starter code</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">I2C</div>  </div>
</div><!--header-->
<div class="contents">

<p>I2C and MKII boosterpack sensors.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:_i2_c_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_i2_c_8h.html">I2C.h</a></td></tr>
<tr class="memdesc:_i2_c_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Software driver functions for I2C and MKII boosterpack. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga84df9a5887b8b8230cfe85d18e53900e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga84df9a5887b8b8230cfe85d18e53900e">I2C_Init</a> (void)</td></tr>
<tr class="memdesc:ga84df9a5887b8b8230cfe85d18e53900e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize I2C.  <a href="group___i2_c.html#ga84df9a5887b8b8230cfe85d18e53900e">More...</a><br /></td></tr>
<tr class="separator:ga84df9a5887b8b8230cfe85d18e53900e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4b63e9ef99607a9c10c0888e874b271"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gae4b63e9ef99607a9c10c0888e874b271">I2C_Recv1</a> (int8_t slave)</td></tr>
<tr class="memdesc:gae4b63e9ef99607a9c10c0888e874b271"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive one byte.  <a href="group___i2_c.html#gae4b63e9ef99607a9c10c0888e874b271">More...</a><br /></td></tr>
<tr class="separator:gae4b63e9ef99607a9c10c0888e874b271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga172e587b4c2819de75686b9a4d28795a"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga172e587b4c2819de75686b9a4d28795a">I2C_Recv2</a> (int8_t slave)</td></tr>
<tr class="memdesc:ga172e587b4c2819de75686b9a4d28795a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive two bytes.  <a href="group___i2_c.html#ga172e587b4c2819de75686b9a4d28795a">More...</a><br /></td></tr>
<tr class="separator:ga172e587b4c2819de75686b9a4d28795a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ebce3db5cd81af24e235b9cb2e12d25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga1ebce3db5cd81af24e235b9cb2e12d25">I2C_Send1</a> (int8_t slave, uint8_t data)</td></tr>
<tr class="memdesc:ga1ebce3db5cd81af24e235b9cb2e12d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send one byte.  <a href="group___i2_c.html#ga1ebce3db5cd81af24e235b9cb2e12d25">More...</a><br /></td></tr>
<tr class="separator:ga1ebce3db5cd81af24e235b9cb2e12d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8986cab236dfc71dc40bf95db6be59a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaa8986cab236dfc71dc40bf95db6be59a">I2C_Send2</a> (int8_t slave, uint8_t data1, uint8_t data2)</td></tr>
<tr class="memdesc:gaa8986cab236dfc71dc40bf95db6be59a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send two bytes.  <a href="group___i2_c.html#gaa8986cab236dfc71dc40bf95db6be59a">More...</a><br /></td></tr>
<tr class="separator:gaa8986cab236dfc71dc40bf95db6be59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3285b076a1a213e3c569dbcbfc9adae8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga3285b076a1a213e3c569dbcbfc9adae8">I2C_Send3</a> (int8_t slave, uint8_t data1, uint8_t data2, uint8_t data3)</td></tr>
<tr class="memdesc:ga3285b076a1a213e3c569dbcbfc9adae8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send three bytes.  <a href="group___i2_c.html#ga3285b076a1a213e3c569dbcbfc9adae8">More...</a><br /></td></tr>
<tr class="separator:ga3285b076a1a213e3c569dbcbfc9adae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf070692463ba19763294b0eeb2a29009"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#gaf070692463ba19763294b0eeb2a29009">I2C_LightSensor_Init</a> (void)</td></tr>
<tr class="memdesc:gaf070692463ba19763294b0eeb2a29009"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize OPT3001.  <a href="group___i2_c.html#gaf070692463ba19763294b0eeb2a29009">More...</a><br /></td></tr>
<tr class="separator:gaf070692463ba19763294b0eeb2a29009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3a1b31e846c2e48289cde7e29014a8a5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga3a1b31e846c2e48289cde7e29014a8a5">I2C_LightSensor_Input</a> (void)</td></tr>
<tr class="memdesc:ga3a1b31e846c2e48289cde7e29014a8a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input from OPT3001.  <a href="group___i2_c.html#ga3a1b31e846c2e48289cde7e29014a8a5">More...</a><br /></td></tr>
<tr class="separator:ga3a1b31e846c2e48289cde7e29014a8a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga219fb26ad14ee74107bc4bd2e844ee5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga219fb26ad14ee74107bc4bd2e844ee5d">I2C_LightSensor_Start</a> (void)</td></tr>
<tr class="memdesc:ga219fb26ad14ee74107bc4bd2e844ee5d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start OPT3001.  <a href="group___i2_c.html#ga219fb26ad14ee74107bc4bd2e844ee5d">More...</a><br /></td></tr>
<tr class="separator:ga219fb26ad14ee74107bc4bd2e844ee5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a1c8eb5d0a103574ea72bd2bab8f00f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga1a1c8eb5d0a103574ea72bd2bab8f00f">I2C_LightSensor_End</a> (uint32_t *light)</td></tr>
<tr class="memdesc:ga1a1c8eb5d0a103574ea72bd2bab8f00f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish OPT3001.  <a href="group___i2_c.html#ga1a1c8eb5d0a103574ea72bd2bab8f00f">More...</a><br /></td></tr>
<tr class="separator:ga1a1c8eb5d0a103574ea72bd2bab8f00f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga800416ee64fff3d1cabe47b9ca673cd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga800416ee64fff3d1cabe47b9ca673cd4">I2C_TempSensor_Init</a> (void)</td></tr>
<tr class="memdesc:ga800416ee64fff3d1cabe47b9ca673cd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize TMP006.  <a href="group___i2_c.html#ga800416ee64fff3d1cabe47b9ca673cd4">More...</a><br /></td></tr>
<tr class="separator:ga800416ee64fff3d1cabe47b9ca673cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47d84de361178a434bf1ff0e3969ebb2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga47d84de361178a434bf1ff0e3969ebb2">I2C_TempSensor_Input</a> (int32_t *sensorV, int32_t *localT)</td></tr>
<tr class="memdesc:ga47d84de361178a434bf1ff0e3969ebb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input from TMP006.  <a href="group___i2_c.html#ga47d84de361178a434bf1ff0e3969ebb2">More...</a><br /></td></tr>
<tr class="separator:ga47d84de361178a434bf1ff0e3969ebb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1812b414fa715b7500fdfc040d8e3026"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga1812b414fa715b7500fdfc040d8e3026">I2C_TempSensor_Start</a> (void)</td></tr>
<tr class="memdesc:ga1812b414fa715b7500fdfc040d8e3026"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start TMP006.  <a href="group___i2_c.html#ga1812b414fa715b7500fdfc040d8e3026">More...</a><br /></td></tr>
<tr class="separator:ga1812b414fa715b7500fdfc040d8e3026"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0eafb7c75b865d02ff149ef68caecb29"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___i2_c.html#ga0eafb7c75b865d02ff149ef68caecb29">I2C_TempSensor_End</a> (int32_t *sensorV, int32_t *localT)</td></tr>
<tr class="memdesc:ga0eafb7c75b865d02ff149ef68caecb29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish TMP006.  <a href="group___i2_c.html#ga0eafb7c75b865d02ff149ef68caecb29">More...</a><br /></td></tr>
<tr class="separator:ga0eafb7c75b865d02ff149ef68caecb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>I2C and MKII boosterpack sensors. </p>
<a class="anchor" id="MKIIsensorpins"></a>
<table class="doxtable">
<caption>MKII sensor pins </caption>
<tr>
<th>Pin </th><th>Function</th><th>Description </th></tr>
<tr>
<td>PA27</td><td>GPIO </td><td>J1.8 ambient light (OPT3001) interrupt (digital) <br  />
 </td></tr>
<tr>
<td>PB2 </td><td>I2C1-SCL</td><td>J1.9 ambient light (OPT3001) and temperature sensor (TMP006) <br  />
 </td></tr>
<tr>
<td>PB3 </td><td>I2C1-SDA</td><td>J1.10 ambient light (OPT3001) and temperature sensor (TMP006) <br  />
 </td></tr>
<tr>
<td>PB16</td><td>GPIO </td><td>J2.11 temperature sensor (TMP006) interrupt (digital) <br  />
 </td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga84df9a5887b8b8230cfe85d18e53900e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84df9a5887b8b8230cfe85d18e53900e">&#9670;&nbsp;</a></span>I2C_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2C_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize I2C. </p>
<p>Initialize PB2 and PB3 for I2C for 400kHz clock. Uses busy-wait synchronization </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Assumes 80MHz bus clock </dd>
<dd>
Assumes GPIOB have been reset and powered previously </dd></dl>

</div>
</div>
<a id="ga1a1c8eb5d0a103574ea72bd2bab8f00f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1a1c8eb5d0a103574ea72bd2bab8f00f">&#9670;&nbsp;</a></span>I2C_LightSensor_End()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int I2C_LightSensor_End </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>light</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish OPT3001. </p>
<p>Finish a measurement using the OPT3001. Query the OPT3001 light sensor for a measurement. If no measurement is currently in progress, start one and return zero immediately. If the measurement is not yet complete, return zero immediately. If the measurement is complete, store the result in the pointer provided and return one. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">light</td><td>pointer to a place to return data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if measurement is ready and pointer is valid, 0 if measurement is not ready and pointer unchanged </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c.html#gaf070692463ba19763294b0eeb2a29009" title="Initialize OPT3001.">I2C_LightSensor_Init</a> <a class="el" href="group___i2_c.html#ga1a1c8eb5d0a103574ea72bd2bab8f00f" title="Finish OPT3001.">I2C_LightSensor_End</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Assumes: <a class="el" href="group___i2_c.html#ga219fb26ad14ee74107bc4bd2e844ee5d" title="Start OPT3001.">I2C_LightSensor_Start()</a> has been called </dd></dl>

</div>
</div>
<a id="gaf070692463ba19763294b0eeb2a29009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf070692463ba19763294b0eeb2a29009">&#9670;&nbsp;</a></span>I2C_LightSensor_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2C_LightSensor_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize OPT3001. </p>
<p>Initialize OPT3001 on MKII boosterpack. PA27 is GPIO pin for input, which corresponds with BoosterPack pins J1.8 (Light Sensor interrupt). Initialize PB2 and PB3 for I2C pins, which correspond with BoosterPack pins J1.9 (SCL) and J1.10 (SDA) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Assumes 80MHz bus clock </dd>
<dd>
Assumes GPIOB have been reset and powered previously </dd></dl>

</div>
</div>
<a id="ga3a1b31e846c2e48289cde7e29014a8a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3a1b31e846c2e48289cde7e29014a8a5">&#9670;&nbsp;</a></span>I2C_LightSensor_Input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t I2C_LightSensor_Input </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Input from OPT3001. </p>
<p>Query the OPT3001 light sensor for a measurement. Wait until the measurement is ready, which may take 800 ms </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>light intensity (units 100*lux) </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c.html#ga219fb26ad14ee74107bc4bd2e844ee5d" title="Start OPT3001.">I2C_LightSensor_Start</a> <a class="el" href="group___i2_c.html#ga1a1c8eb5d0a103574ea72bd2bab8f00f" title="Finish OPT3001.">I2C_LightSensor_End</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Assumes: <a class="el" href="group___i2_c.html#gaf070692463ba19763294b0eeb2a29009" title="Initialize OPT3001.">I2C_LightSensor_Init()</a> has been called </dd></dl>

</div>
</div>
<a id="ga219fb26ad14ee74107bc4bd2e844ee5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga219fb26ad14ee74107bc4bd2e844ee5d">&#9670;&nbsp;</a></span>I2C_LightSensor_Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2C_LightSensor_Start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start OPT3001. </p>
<p>Start a measurement using the OPT3001. If a measurement is currently in progress, return without starting another measurement </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c.html#gaf070692463ba19763294b0eeb2a29009" title="Initialize OPT3001.">I2C_LightSensor_Init</a> <a class="el" href="group___i2_c.html#ga1a1c8eb5d0a103574ea72bd2bab8f00f" title="Finish OPT3001.">I2C_LightSensor_End</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Assumes: <a class="el" href="group___i2_c.html#gaf070692463ba19763294b0eeb2a29009" title="Initialize OPT3001.">I2C_LightSensor_Init()</a> has been called </dd></dl>

</div>
</div>
<a id="gae4b63e9ef99607a9c10c0888e874b271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4b63e9ef99607a9c10c0888e874b271">&#9670;&nbsp;</a></span>I2C_Recv1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t I2C_Recv1 </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>slave</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive one byte. </p>
<p>Receive one byte from specified slave. Uses busy-wait synchronization <br  />
 [send address][read data] </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>is slave address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>8-bit data received </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Does not check for errors </dd></dl>

</div>
</div>
<a id="ga172e587b4c2819de75686b9a4d28795a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga172e587b4c2819de75686b9a4d28795a">&#9670;&nbsp;</a></span>I2C_Recv2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t I2C_Recv2 </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>slave</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive two bytes. </p>
<p>Receive two bytes from specified slave. Uses busy-wait synchronization <br  />
 [send address][read data][read data] </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>is slave address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>16-bit data received </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Does not check for errors </dd></dl>

</div>
</div>
<a id="ga1ebce3db5cd81af24e235b9cb2e12d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ebce3db5cd81af24e235b9cb2e12d25">&#9670;&nbsp;</a></span>I2C_Send1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int I2C_Send1 </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>slave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send one byte. </p>
<p>Send one byte to specified slave. Uses busy-wait synchronization <br  />
 [send address][send data] </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>is slave address </td></tr>
    <tr><td class="paramname">data</td><td>is byte to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, nonzero if error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Does check for errors </dd></dl>

</div>
</div>
<a id="gaa8986cab236dfc71dc40bf95db6be59a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8986cab236dfc71dc40bf95db6be59a">&#9670;&nbsp;</a></span>I2C_Send2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int I2C_Send2 </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>slave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send two bytes. </p>
<p>Send two bytes to specified slave. Uses busy-wait synchronization <br  />
 [send address][send data1][send data2] </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>is slave address </td></tr>
    <tr><td class="paramname">data1</td><td>is first byte to be sent </td></tr>
    <tr><td class="paramname">data2</td><td>is second byte to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, nonzero if error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Does check for errors </dd></dl>

</div>
</div>
<a id="ga3285b076a1a213e3c569dbcbfc9adae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3285b076a1a213e3c569dbcbfc9adae8">&#9670;&nbsp;</a></span>I2C_Send3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int I2C_Send3 </td>
          <td>(</td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>slave</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>data3</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send three bytes. </p>
<p>Send three bytes to specified slave. Uses busy-wait synchronization <br  />
 [send address][send data1][send data2][send data3] </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave</td><td>is slave address </td></tr>
    <tr><td class="paramname">data1</td><td>is first byte to be sent </td></tr>
    <tr><td class="paramname">data2</td><td>is second byte to be sent </td></tr>
    <tr><td class="paramname">data3</td><td>is third byte to be sent </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, nonzero if error </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Does check for errors </dd></dl>

</div>
</div>
<a id="ga0eafb7c75b865d02ff149ef68caecb29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0eafb7c75b865d02ff149ef68caecb29">&#9670;&nbsp;</a></span>I2C_TempSensor_End()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int I2C_TempSensor_End </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>sensorV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>localT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish TMP006. </p>
<p>Finish a measurement using the OPT3001. Query the TMP006 temperature sensor for a measurement. If no measurement is currently in progress, start one and return zero immediately. If the measurement is not yet complete, return zero immediately. If the measurement is complete, store the result in the pointers provided and return one. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensorV</td><td>is signed pointer to store sensor voltage (units 100*nV) </td></tr>
    <tr><td class="paramname">localT</td><td>is signed pointer to store local temperature (units 100,000*C) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 if measurement is ready and pointer is valid, 0 if measurement is not ready and pointer unchanged </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c.html#ga1812b414fa715b7500fdfc040d8e3026" title="Start TMP006.">I2C_TempSensor_Start</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Assumes: I2C_TempSensor_Start has been called </dd></dl>

</div>
</div>
<a id="ga800416ee64fff3d1cabe47b9ca673cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga800416ee64fff3d1cabe47b9ca673cd4">&#9670;&nbsp;</a></span>I2C_TempSensor_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2C_TempSensor_Init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize TMP006. </p>
<p>Initialize TMP006 on MKII boosterpack. PB16 is GPIO pin for input, which corresponds with BoosterPack pins J1.8 (Light Sensor interrupt). Initialize PB2 and PB3 for I2C pins, which correspond with BoosterPack pins J1.9 (SCL) and J1.10 (SDA) </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Assumes 80MHz bus clock </dd>
<dd>
Assumes GPIOB have been reset and powered previously </dd></dl>

</div>
</div>
<a id="ga47d84de361178a434bf1ff0e3969ebb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47d84de361178a434bf1ff0e3969ebb2">&#9670;&nbsp;</a></span>I2C_TempSensor_Input()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2C_TempSensor_Input </td>
          <td>(</td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>sensorV</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&#160;</td>
          <td class="paramname"><em>localT</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Input from TMP006. </p>
<p>Query the TMP006 temperature sensor for a measurement. Wait until the measurement is ready, which may take 4 seconds </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensorV</td><td>is signed pointer to store sensor voltage (units 100*nV) </td></tr>
    <tr><td class="paramname">localT</td><td>is signed pointer to store local temperature (units 100,000*C) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section note"><dt>Note</dt><dd>TMP006 was discontinued and not populated on most MKII </dd></dl>

</div>
</div>
<a id="ga1812b414fa715b7500fdfc040d8e3026"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1812b414fa715b7500fdfc040d8e3026">&#9670;&nbsp;</a></span>I2C_TempSensor_Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void I2C_TempSensor_Start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start TMP006. </p>
<p>Start a measurement using the TMP006. If a measurement is currently in progress, return without starting another measurement </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group___i2_c.html#gaf070692463ba19763294b0eeb2a29009" title="Initialize OPT3001.">I2C_LightSensor_Init</a> <a class="el" href="group___i2_c.html#ga1a1c8eb5d0a103574ea72bd2bab8f00f" title="Finish OPT3001.">I2C_LightSensor_End</a> </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Assumes: <a class="el" href="group___i2_c.html#gaf070692463ba19763294b0eeb2a29009" title="Initialize OPT3001.">I2C_LightSensor_Init()</a> has been called </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
